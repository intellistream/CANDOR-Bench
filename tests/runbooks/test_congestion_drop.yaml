# 拥塞丢弃测试 Runbook
# 通过小批次和高速率触发队列拥塞

sift:
  max_pts: 1000000
  1:
    operation: "startHPC"
  2:
    operation: "initial"
    start: 0
    end: 10000
  3:
    operation: "enableScenario"
    congestionDrop: true
    useBackpressureLogic: true  # 使用背压逻辑（基于队列容量）
  4:
    operation: "batch_insert"
    start: 10000
    end: 30000
    batchSize: 50  # 小批次容易触发队列拥塞
    eventRate: 10000  # 高速率插入
    continuousQuery: false  # 禁用连续查询，专注于插入性能
  5:
    operation: "waitPending"
  6:
    operation: "search"
    count: 100
  7:
    operation: "endHPC"
  gt_url: "none"

gist:
  max_pts: 1000000
  1:
    operation: "startHPC"
  2:
    operation: "initial"
    start: 0
    end: 10000
  3:
    operation: "enableScenario"
    congestionDrop: true
    useBackpressureLogic: true
  4:
    operation: "batch_insert"
    start: 10000
    end: 30000
    batchSize: 50
    eventRate: 10000
    continuousQuery: false
  5:
    operation: "waitPending"
  6:
    operation: "search"
    count: 100
  7:
    operation: "endHPC"
  gt_url: "none"
