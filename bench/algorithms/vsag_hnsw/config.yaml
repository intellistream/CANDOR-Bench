random-xs:
  vsag_hnsw:
    module: benchmark_anns.bench.algorithms.vsag_hnsw.vsag_hnsw
    constructor: VsagHnsw
    base-args: ["@metric"]
    run-groups:
      base:
        args: |
          [{"index_name": "hgraph", "index_config": {"dtype": "float32", "index_param": {"base_quantization_type": "fp32", "max_degree": 16, "ef_construction": 120, "use_elp_optimizer": false}}}]
        query-args: |
          [{"search_params": {"hgraph": {"ef_search": 40}}}]

sift:
  vsag_hnsw:
    module: benchmark_anns.bench.algorithms.vsag_hnsw.vsag_hnsw
    constructor: VsagHnsw
    base-args: ["@metric"]
    run-groups:
      base:
        # 四种优化模式的构建参数组合
        # - disabled: 禁用所有预取
        # - hardcoded: 使用自动计算的预取参数
        # - custom: 使用用户自定义的预取参数
        # - auto: 使用ELP优化器自动调优预取参数（类似HGraph）
        args: |
          [
            {"index_name": "hnsw", "index_config": {"dtype": "float32", "hnsw": {"max_degree": 32, "ef_construction": 200, "prefetch_mode": "disabled"}}},
            {"index_name": "hnsw", "index_config": {"dtype": "float32", "hnsw": {"max_degree": 32, "ef_construction": 200, "prefetch_mode": "hardcoded"}}},
            {"index_name": "hnsw", "index_config": {"dtype": "float32", "hnsw": {"max_degree": 32, "ef_construction": 200, "prefetch_mode": "custom", "prefetch_stride_codes": 3, "prefetch_depth_codes": 2}}},
            {"index_name": "hnsw", "index_config": {"dtype": "float32", "hnsw": {"max_degree": 32, "ef_construction": 200, "prefetch_mode": "auto", "use_elp_optimizer": true}}}
          ]
        # 查询参数
        # - 对于 custom 模式，查询时也可以覆盖预取参数
        query-args: |
          [{"search_params": {"hnsw": {"ef_search": 40}}}]
